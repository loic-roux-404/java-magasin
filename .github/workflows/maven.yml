name: Master Branch

on:
    push:
        branches:
            - '*'

jobs:
    test:
        strategy:
            matrix:
                java: [ 11 ]
                os: [ ubuntu-latest, windows-latest ]
        name: Tests - ${{ matrix.os }}
        runs-on: ${{ matrix.os }}

        steps:
            - uses: actions/checkout@v1
            - name: Set up JDK 11
              uses: actions/setup-java@v1
              with:
                  java-version: ${{ matrix.java }}
            - name: Maven Package
              run: mvn -B clean package -DskipTests
            - name: Maven Verify
              run: mvn -B clean verify -Pintegration-test
